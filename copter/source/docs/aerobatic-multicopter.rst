.. _aerobatic-multicopter:

============================
Aerobatic/Racing Multicopter
============================
**this page is a work in progress**

With the proper vehicle configuration and careful tuning, a precise, aggressive multicopter can be obtained for racing or aerobatics in :ref:`ACRO mode <acro-mode>`.

The first requirement is a vehicle frame that is very stiff to resist resonant vibrations and a power system that delivers high thrust to weight ratios. This is most easily obtained with smaller (< 6inch diagonal motor distances) frames.

Obviously, racing Mini-quad frames already meet these requirements, usually. The advantage of using ArduPilot firmware is the ability to combine aggressive flight characteristics with autonomous features like FENCES, FOLLOW mode, and RTL mode. Even :ref:`object avoidance <common-simple-object-avoidance>` can be included in some cases.

Setup
=====

Follow the normal ArduCopter wiki :ref:`setup guidlines <configuring-hardware>`. However, the key to getting the best performance will be determined by the care and precision of the :ref:`tuning and noise filtering setup<common-tuning>`. And key to getting highest performance from the filtering will be use of Bi-Directional DSHOT ESCs to provide individual motor rpm for setting individual notch filers to track each motor (see :ref:`common-esc-telemetry`.

GPS needed?
===========

You do not need a GPS to fly in many Copter modes (ACRO, STABILIZE, ALTHOLD,etc.). But when using GPS/Compass to enable modes requiring position information, such as LOITER or RTL, or fences, placement of the unit to avoid magnetic interference from the power system, and/or RF interference from the RC system on GPS performance must be considered and remediated as much as possible.

Consequences of Aggressive Flight with GPS
==========================================

If you do include a GPS for the advance mode capabilities, then there are some potential consequences that can occur when switching to position holding/tracking modes after aggressive maneuvering in modes like ACRO. These are:

- :ref:`EKF Failsafes<ekf-inav-failsafe>` occurring
- Large position errors, ie like switching to RTL and then overshooting HOME position by very large amount, or tracking waypoints in a mission with large positioning errors

Both of these are due to errors generated by high accelerations resulting in GPS miss-measurement of velocities, resulting in the navigation filter declaring itself unhealthy (EKF Failsafe), or very bad position estimates.

These issues CAN be reduced/eliminated by either setting the :ref:`EK3_GLITCH_RAD<EK3_GLITCH_RAD>` = 0 , or increasing :ref:`FS_EKF_THRESH<FS_EKF_THRESH>`, or both. But this should be used only if experiencing the above problems,and with caution, since it can degrade positioning accuracy rather then improve it in some cases, and/or allow EKF degradation to occur to the point of possible vehicle instability.
